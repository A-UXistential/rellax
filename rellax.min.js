(function(l,e){"function"===typeof define&&define.amd?define([],e):"object"===typeof module&&module.exports?module.exports=e():l.Rellax=e()})(this,function(){var l=function(e,m){var d=Object.create(l.prototype),g=0,n=0,k=0,p=0,f=[],q=!1,y=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(a){setTimeout(a,1E3/60)},z=window.transformProp||function(){var a=document.createElement("div");
if(null===a.style.transform){var b=["Webkit","Moz","ms"],c;for(c in b)if(void 0!==a.style[b[c]+"Transform"])return b[c]+"Transform"}return"transform"}();d.options={speed:-2,center:!1,round:!0,vertical:!0,horizontal:!1,callback:function(){}};m&&Object.keys(m).forEach(function(a){d.options[a]=m[a]});e||(e=".rellax");var r="string"===typeof e?document.querySelectorAll(e):[e];if(0<r.length)d.elems=r;else throw Error("The elements you're trying to select don't exist.");var w=function(){for(var a=0;a<f.length;a++)d.elems[a].style.cssText=
f[a].style;f=[];n=window.innerHeight;p=window.innerWidth;t();for(a=0;a<d.elems.length;a++){var b=d.elems[a],c=b.getAttribute("data-rellax-percentage"),e=b.getAttribute("data-rellax-speed"),l=b.getAttribute("data-rellax-zindex")||0,h=d.options.vertical?c||d.options.center?window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop:0:0,g=d.options.horizontal?c||d.options.center?window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft:0:0,k=h+b.getBoundingClientRect().top,
m=b.clientHeight||b.offsetHeight||b.scrollHeight,q=g+b.getBoundingClientRect().left,r=b.clientWidth||b.offsetWidth||b.scrollWidth;h=c?c:(h-k+n)/(m+n);c=c?c:(g-q+p)/(r+p);d.options.center&&(h=c=.5);e=e?e:d.options.speed;h=u(c,h,e);b=b.style.cssText;c="";0<=b.indexOf("transform")&&(c=b.indexOf("transform"),c=b.slice(c),c=(g=c.indexOf(";"))?" "+c.slice(11,g).replace(/\s/g,""):" "+c.slice(11).replace(/\s/g,""));f.push({baseX:h.x,baseY:h.y,top:k,left:q,height:m,width:r,speed:e,style:b,transform:c,zindex:l})}v()},
t=function(){var a=g,b=k;g=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;k=void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft;return a!=g&&d.options.vertical||b!=k&&d.options.horizontal?!0:!1},u=function(a,b,c){var e={};a=100*c*(1-a);b=100*c*(1-b);e.x=d.options.round?Math.round(a):Math.round(100*a)/100;e.y=d.options.round?Math.round(b):Math.round(100*
b)/100;return e},x=function(){t()&&!1===q&&v();y(x)},v=function(){for(var a=0;a<d.elems.length;a++){var b=u((k-f[a].left+p)/(f[a].width+p),(g-f[a].top+n)/(f[a].height+n),f[a].speed),c=b.y-f[a].baseY;b=b.x-f[a].baseX;d.elems[a].style[z]="translate3d("+(d.options.horizontal?b:"0")+"px,"+(d.options.vertical?c:"0")+"px,"+f[a].zindex+"px) "+f[a].transform}d.options.callback()};d.destroy=function(){for(var a=0;a<d.elems.length;a++)d.elems[a].style.cssText=f[a].style;q=!0};w();window.addEventListener("resize",
function(){w()});x();return d};return l});